<main class="h-screen overflow-hidden">
  @if (!isLoggedIn()) {
    <!-- Top Bar -->
    <div class="top-1 bg-gray-700 text-white rounded-b-2xl z-50 text-center flex items-center justify-center gap-1">
      You are currently using Helios in readonly mode.
      <button (click)="login()" class="p-0 text-white hover:text-gray-300 underline">Login here.</button>
    </div>
  }
  <div class="flex flex-grow p-3" [ngClass]="isLoggedIn() ? 'h-[calc(100vh-24px)]' : 'h-[calc(100vh-48px)]'">
    <!-- Fixed Navigation Bar -->
    <div class="h-full sticky top-3">
      <app-navigation-bar [repositoryId]="repositoryId()"></app-navigation-bar>
    </div>

    <!-- Scrollable Content Area -->
    <div class="flex-grow overflow-hidden h-full border border-gray-200 rounded-2xl">
      <div class="h-full overflow-auto p-6 mx-auto">
        <router-outlet />
      </div>
    </div>
    <p-toast></p-toast>
  </div>
  <!-- Footer (outside of scrollable content) -->
  <app-footer></app-footer>
</main>
